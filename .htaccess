# ==============================
# .htaccess — boomingslots-casino.com (root pages only)
# ==============================

<IfModule mod_rewrite.c>
RewriteEngine On

# --- B) СЛУЖБОВІ ФАЙЛИ ---
RewriteRule ^robots\.txt$ - [L]
RewriteRule ^sitemap\.xml$ - [L]

# --- B2) CLOUDFLARE SERVICE PATHS ---
RewriteRule ^cdn-cgi/ - [L]

# --- C) ІСНУЮЧІ ФАЙЛИ/ПАПКИ НЕ ЧІПАЄМО ---
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# --- E) ВСЕ ІНШЕ (НЕ ІСНУЄ / НЕ У WHITELIST) → РЕДІРЕКТ НА ГОЛОВНУ ---
RewriteRule . / [R=301,L]
</IfModule>

# ------------------------------
# ДИРЕКТОРІЇ / ІНДЕКСИ
# ------------------------------
Options -Indexes
DirectoryIndex index.html

# ------------------------------
# Security / CSP / headers
# ------------------------------
<IfModule mod_headers.c>
  Header unset X-Robots-Tag
  Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
  Header always set X-Content-Type-Options "nosniff"
  Header always set X-Frame-Options "DENY"
  Header always set Referrer-Policy "strict-origin-when-cross-origin"

  Header always set Content-Security-Policy "default-src 'self'; \
script-src 'self' 'unsafe-inline' 'unsafe-eval' blob: https://cdn.ampproject.org https://unpkg.com https://www.google.com https://www.gstatic.com https://cdn.skypack.dev https://cdn.jsdelivr.net https://analytics.ahrefs.com https://static.cloudflareinsights.com; \
worker-src 'self' blob:; \
connect-src 'self' https://formspree.io https://cdn.ampproject.org https://analytics.ahrefs.com https://static.cloudflareinsights.com; \
style-src 'self' 'unsafe-inline' https://unpkg.com https://fonts.googleapis.com; \
img-src 'self' data: https://www.gstatic.com https://i.ytimg.com https://i.vimeocdn.com; \
font-src 'self' data: https://fonts.gstatic.com; \
frame-src 'self' https://www.youtube.com https://player.vimeo.com; \
frame-ancestors 'self';"

  # ✅ HTML кешуємо на 4 години
  <FilesMatch "\.(?:html?|htm)$">
    Header set Cache-Control "public, max-age=14400, must-revalidate"
  </FilesMatch>
</IfModule>

# ------------------------------
# Caching / compression / MIME
# ------------------------------
<IfModule mod_expires.c>
  ExpiresActive On

  # ✅ HTML теж на 4 години
  ExpiresByType text/html "access plus 4 hours"

  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/webp "access plus 1 year"
  ExpiresByType image/svg+xml "access plus 1 year"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresByType text/javascript "access plus 1 month"
  ExpiresByType application/x-javascript "access plus 1 month"
  ExpiresByType image/x-icon "access plus 1 year"
  ExpiresDefault "access plus 1 month"
</IfModule>

<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/x-javascript application/xml
</IfModule>

<IfModule mod_mime.c>
  AddType text/javascript .js
  AddType text/typescript .ts
</IfModule>
